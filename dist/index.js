"use strict";var f=function(e,r){return function(){return r||e((r={exports:{}}).exports,r),r.exports}};var x=f(function(U,q){
var c=require('@stdlib/assert-is-nonnegative-integer/dist').isPrimitive,h=require('@stdlib/assert-is-string/dist').isPrimitive,D=require('@stdlib/assert-is-plain-object/dist'),m=require('@stdlib/assert-has-own-property/dist'),o=require('@stdlib/error-tools-fmtprodmsg/dist');function N(e,r){return D(r)?m(r,"port")&&(e.port=r.port,!c(e.port))?new TypeError(o('0kN2t',"port",e.port)):m(r,"maxport")&&(e.maxport=r.maxport,!c(e.maxport))?new TypeError(o('0kN2t',"maxport",e.maxport)):m(r,"hostname")&&(e.hostname=r.hostname,!h(e.hostname))?new TypeError(o('0kN2W',"hostname",e.hostname)):m(r,"address")&&(e.address=r.address,!h(e.address))?new TypeError(o('0kN2W',"address",e.address)):null:new TypeError(o('0kN2V',r));}q.exports=N
});var b=f(function(k,V){V.exports={port:0,address:"127.0.0.1"}});var O=f(function(z,y){
var w=require("http"),j=require("debug"),g=require('@stdlib/assert-is-function/dist'),S=require('@stdlib/error-tools-fmtprodmsg/dist'),E=x(),T=b(),n=j("@stdlib/net-http-server");function F(){var e,r,u,l,t,i,v,d;if(l=arguments.length,t={},l===1)g(arguments[0])?e=arguments[0]:(u=arguments[0],d=E(t,u));else if(l>1){if(u=arguments[0],e=arguments[1],!g(e))throw new TypeError(S('0kN5w',e));d=E(t,u)}if(d)throw d;return t.port===void 0?i=T.port:i=t.port,n("Server port: %d",i),t.maxport===void 0?v=i:v=t.maxport,n("Max server port: %d",v),t.hostname?r=t.hostname:t.address?r=t.address:r=T.address,n("Server hostname: %s",r),A;function A(p){var a;if(!g(p))throw new TypeError(S('0kN2b',p));e?a=w.createServer(e):a=w.createServer(),a.on("error",L),a.once("listening",P),n("Attempting to listen on %s:%d.",r,i),a.listen(i,r);function L(s){if(s.code==="EADDRINUSE"&&(n("Server address already in use: %s:%d.",r,i),i+=1,i<=v)){n("Attempting to listen on %s:%d.",r,i),a.listen(i,r);return}throw s}function P(){var s=a.address();n("HTTP server initialized. Server is listening for requests on %s:%d.",s.address,s.port),p(null,a)}}}y.exports=F
});var I=O();module.exports=I;
/** @license Apache-2.0 */
//# sourceMappingURL=index.js.map
